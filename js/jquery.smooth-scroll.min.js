!function(t){function i(t){return t.replace(/(:|\.)/g,"\\$1")}var e="1.5.0",l={},o={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficient:2,preventDefault:!0},s=function(e){var l=[],o=!1,s=e.dir&&"left"===e.dir?"scrollLeft":"scrollTop";return this.each(function(){if(this!==document&&this!==window){var e=t(this);e[s]()>0?l.push(this):(e[s](1),o=e[s]()>0,o&&l.push(this),e[s](0))}}),l.length||this.each(function(){"BODY"===this.nodeName&&(l=[this])}),"first"===e.el&&l.length>1&&(l=[l[0]]),l};t.fn.extend({scrollable:function(t){var e=s.call(this,{dir:t});return this.pushStack(e)},firstScrollable:function(t){var e=s.call(this,{el:"first",dir:t});return this.pushStack(e)},smoothScroll:function(e,l){if(e=e||{},"options"===e)return l?this.each(function(){var e=t(this),o=t.extend(e.data("ssOpts")||{},l);t(this).data("ssOpts",o)}):this.first().data("ssOpts");var o=t.extend({},t.fn.smoothScroll.defaults,e),s=t.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",function(e){var l=this,n=t(this),r=t.extend({},o,n.data("ssOpts")||{}),c=o.exclude,f=r.excludeWithin,a=0,h=0,u=!0,d={},p=location.hostname===l.hostname||!l.hostname,m=r.scrollTarget||(t.smoothScroll.filterPath(l.pathname)||s)===s,S=i(l.hash);if(r.scrollTarget||p&&m&&S){for(;u&&a<c.length;)n.is(i(c[a++]))&&(u=!1);for(;u&&h<f.length;)n.closest(f[h++]).length&&(u=!1)}else u=!1;u&&(r.preventDefault&&e.preventDefault(),t.extend(d,r,{scrollTarget:r.scrollTarget||S,link:l}),t.smoothScroll(d))}),this}}),t.smoothScroll=function(e,o){if("options"===e&&"object"==typeof o)return t.extend(l,o);var s,i,n,r,c,f=0,a="offset",h="scrollTop",u={},d={};"number"==typeof e?(s=t.extend({link:null},t.fn.smoothScroll.defaults,l),n=e):(s=t.extend({link:null},t.fn.smoothScroll.defaults,e||{},l),s.scrollElement&&(a="position","static"===s.scrollElement.css("position")&&s.scrollElement.css("position","relative"))),h="left"===s.direction?"scrollLeft":h,s.scrollElement?(i=s.scrollElement,/^(?:HTML|BODY)$/.test(i[0].nodeName)||(f=i[h]())):i=t("html, body").firstScrollable(s.direction),s.beforeScroll.call(i,s),n="number"==typeof e?e:o||t(s.scrollTarget)[a]()&&t(s.scrollTarget)[a]()[s.direction]||0,u[h]=n+f+s.offset,r=s.speed,"auto"===r&&(c=u[h]-i.scrollTop(),0>c&&(c*=-1),r=c/s.autoCoefficient),d={duration:r,easing:s.easing,complete:function(){s.afterScroll.call(s.link,s)}},s.step&&(d.step=s.step),i.length?i.stop().animate(u,d):s.afterScroll.call(s.link,s)},t.smoothScroll.version=e,t.smoothScroll.filterPath=function(t){return t=t||"",t.replace(/^\//,"").replace(/(?:index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},t.fn.smoothScroll.defaults=o}(jQuery);